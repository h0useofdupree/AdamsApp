{"remainingRequest":"/home/juuls/proj/AdamsApp/adams-app/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/juuls/proj/AdamsApp/adams-app/src/views/Plan.vue?vue&type=style&index=0&id=0ee881e3&scoped=true&lang=css","dependencies":[{"path":"/home/juuls/proj/AdamsApp/adams-app/src/views/Plan.vue","mtime":1640109825941},{"path":"/home/juuls/proj/AdamsApp/adams-app/node_modules/css-loader/dist/cjs.js","mtime":1639554683976},{"path":"/home/juuls/proj/AdamsApp/adams-app/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1639561249810},{"path":"/home/juuls/proj/AdamsApp/adams-app/node_modules/postcss-loader/src/index.js","mtime":1639554679699},{"path":"/home/juuls/proj/AdamsApp/adams-app/node_modules/cache-loader/dist/cjs.js","mtime":1639554684452},{"path":"/home/juuls/proj/AdamsApp/adams-app/node_modules/vue-loader-v16/dist/index.js","mtime":1639561249800}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci50aW1lcGVyaW9kcyB7CiAgZm9udC1zaXplOiAxMnB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQo="},{"version":3,"sources":["/home/juuls/proj/AdamsApp/adams-app/src/views/Plan.vue"],"names":[],"mappings":";AAmJA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpB","file":"/home/juuls/proj/AdamsApp/adams-app/src/views/Plan.vue","sourceRoot":"","sourcesContent":["<template>\n  <ion-content>\n    <ion-grid v-if=\"Object.values(subjects).some((x) => x.length > 1)\">\n      <!-- Check, ob 'subjects' Objekt einträge hat, ansonsten wird das \n      Grid nicht gerendert (führt sonst zu Fehlern) -->\n      <ion-row>\n        <!-- Reihe für die Wochentage -->\n        <ion-col></ion-col>\n        <ion-col>Mo</ion-col>\n        <ion-col>Di</ion-col>\n        <ion-col>Mi</ion-col>\n        <ion-col>Do</ion-col>\n        <ion-col>Fr</ion-col>\n      </ion-row>\n\n      <ion-row v-for=\"i in 8\" :key=\"i\">\n        <!-- 8 Reihen, da wir nicht mehr als 8 Stunden pro Tag haben. -->\n        <ion-col class=\"timeperiods\" v-html=\"timeperiods[i - 1]\"></ion-col>\n        <!-- In timeperiods sind die Uhrzeiten eingetragen, v-for iteriert durch -->\n        <ion-col v-for=\"j in 5\" :key=\"j\">\n          <!-- 5 Spalten, für die 5 Wochentage -->\n          {{\n            subjects[Object.getOwnPropertyNames(this.subjects)[j - 1]][i - 1] !=\n            null\n              ? subjects[Object.getOwnPropertyNames(this.subjects)[j - 1]][\n                  i - 1\n                ].su[0].name\n              : \"\"\n          }}\n\n          <!-- Object.getOwnPropertyNames gibt alle Keys eines Objektes zurück.\n          Dadurch kann z.B mit index 0 => Montag, über das Subject Objekt alle Fächer,\n          die am Montag sind ausgelesen werden\n          \n            Beispiel: subjects['monday'][0] gibt die Daten der ersten Stunde am Montag zurück. -->\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-content>\n</template>\n\n<script>\nimport { IonContent, IonGrid, IonRow, IonCol } from \"@ionic/vue\";\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  components: {\n    IonContent,\n    IonGrid,\n    IonRow,\n    IonCol,\n  },\n  data() {\n    return {\n      timetable: [],\n      timeperiods: [\n        \"07:45 <br>-<br> 08:30\",\n        \"08:30 <br>-<br> 09:15\",\n        \"09:30 <br>-<br> 10:15\",\n        \"10:15 <br>-<br> 11:00\",\n        \"11:15 <br>-<br> 12:00\",\n        \"12:00 <br>-<br> 12:45\",\n        \"13:15 <br>-<br> 14:00\",\n        \"14:00 <br>-<br> 14:45\",\n        \"15:00 <br>-<br> 15:45\",\n        \"15:45 <br>-<br> 16:30\",\n      ],\n      subjects: {\n        monday: [],\n        tuesday: [],\n        wednesday: [],\n        thursday: [],\n        friday: [],\n      },\n    };\n  },\n  created() {\n    let class_name = \"ita3a\";\n    this.$store.dispatch(\"viewTimetable\", class_name).then(() => {\n      this.timetable = this.$store.getters.getTimetable; // Über den Getter bei Vuex werden die Daten geholt.\n      this.splitSubjects(); // Die Methode teilt alle Fächer in die Wochentage ein.\n    });\n  },\n  methods: {\n    // Die Methode sortiert alle Fächer nach Datum, da die Untis-API alle Fächer unsortiert ausgibt.\n    sortTimetable(timetable) {\n      return timetable.sort(\n        (a, b) =>\n          this.convertDate(a.date, a.startTime) -\n          this.convertDate(b.date, b.startTime)\n      );\n    },\n    splitSubjects() {\n      // In der Methode wird durch das Datum des jeweiligen Fach der Wochentag ermittelt.\n      console.log(this.timetable);\n      for (let i = 0; i < this.timetable.length; i++) {\n        switch (this.convertDate(this.timetable[i].date).getDay()) {\n          case 1:\n            this.subjects.monday.push(this.timetable[i]);\n            break;\n          case 2:\n            this.subjects.tuesday.push(this.timetable[i]);\n            break;\n          case 3:\n            this.subjects.wednesday.push(this.timetable[i]);\n            break;\n          case 4:\n            this.subjects.thursday.push(this.timetable[i]);\n            break;\n          case 5:\n            this.subjects.friday.push(this.timetable[i]);\n            break;\n          default:\n            console.log(\"Fehler\");\n            break;\n        }\n      }\n    },\n    convertDate(date, time) {\n      // Datum und Zeit werden hier in JavaScript Date Objects konvertiert,\n      // da die UntisAPI unbekannte Formate als Datum benutzt.\n      // Bsp. : '20211201'\n\n      let year = date.toString().substring(0, 4);\n      let month = date.toString().substring(4, 6);\n      let day = date.toString().substring(6, 8);\n\n      if (time) {\n        let hours =\n          time.toString().length == 4\n            ? time.toString().substring(0, 2)\n            : time.toString().substring(0, 1);\n        let minutes =\n          time.toString().length == 4\n            ? time.toString().substring(2, 4)\n            : time.toString().substring(1, 3);\n\n        return new Date(year, month - 1, day, hours, minutes);\n      } else {\n        return new Date(year, month - 1, day);\n      }\n    },\n  },\n});\n</script>\n\n<style scoped>\n.timeperiods {\n  font-size: 12px;\n  text-align: center;\n}\n</style>"]}]}