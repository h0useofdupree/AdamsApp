{"remainingRequest":"/home/juuls/Documents/AdamsApp/adams-app/node_modules/babel-loader/lib/index.js!/home/juuls/Documents/AdamsApp/adams-app/node_modules/eslint-loader/index.js??ref--14-0!/home/juuls/Documents/AdamsApp/adams-app/src/store/index.js","dependencies":[{"path":"/home/juuls/Documents/AdamsApp/adams-app/src/store/index.js","mtime":1639561168778},{"path":"/home/juuls/Documents/AdamsApp/adams-app/babel.config.js","mtime":1639554325614},{"path":"/home/juuls/Documents/AdamsApp/adams-app/node_modules/cache-loader/dist/cjs.js","mtime":1639554684452},{"path":"/home/juuls/Documents/AdamsApp/adams-app/node_modules/babel-loader/lib/index.js","mtime":1639554684844},{"path":"/home/juuls/Documents/AdamsApp/adams-app/node_modules/eslint-loader/index.js","mtime":1639554683253}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsgLy8gVnVleCBFcmtsw6RydW5nIC0+IGh0dHBzOi8vdnVleC52dWVqcy5vcmcvZ3VpZGUvI3RoZS1zaW1wbGVzdC1zdG9yZQoKZXhwb3J0IGRlZmF1bHQgY3JlYXRlU3RvcmUoewogIHN0YXRlOiB7CiAgICBzdGF0dXM6ICcnLAogICAgdXNlcjoge30sCiAgICB0aW1ldGFibGU6IFtdCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBhdXRoU3RhdHVzOiBzdGF0ZSA9PiBzdGF0ZS5zdGF0dXMsCiAgICBnZXRUaW1ldGFibGU6IHN0YXRlID0+IHN0YXRlLnRpbWV0YWJsZQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBhdXRoX3JlcXVlc3Qoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJ2xvYWRpbmcnOwogICAgfSwKCiAgICBhdXRoX3N1Y2Nlc3Moc3RhdGUsIHVzZXIpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJ3N1Y2Nlc3MnOwogICAgICBpZiAodXNlcikgc3RhdGUudXNlciA9IHVzZXI7CiAgICB9LAoKICAgIGF1dGhfZXJyb3Ioc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJ2Vycm9yJzsKICAgIH0sCgogICAgdmlld1RpbWV0YWJsZShzdGF0ZSwgdGltZXRhYmxlKSB7CiAgICAgIHN0YXRlLnRpbWV0YWJsZSA9IHRpbWV0YWJsZTsKICAgIH0KCiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbih7CiAgICAgIGNvbW1pdAogICAgfSwgdXNlcikgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgIGNvbW1pdCgnYXV0aF9yZXF1ZXN0Jyk7CiAgICAgICAgYXhpb3MoewogICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL3NpZ25pbicsCiAgICAgICAgICBkYXRhOiB1c2VyLAogICAgICAgICAgbWV0aG9kOiAnUE9TVCcKICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7CiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHVzZXIudXNlcikpOwogICAgICAgICAgICBjb21taXQoJ2F1dGhfc3VjY2VzcycsIHVzZXIpOwogICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PT0gJ2Vycm9yJykgewogICAgICAgICAgICBjb21taXQoJ2F1dGhfZXJyb3InKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJyk7CiAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAoKICAgIHZpZXdUaW1ldGFibGUoewogICAgICBjb21taXQKICAgIH0sIGNsYXNzX25hbWUpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBjb21taXQoJ2F1dGhfcmVxdWVzdCcpOwogICAgICAgIGF4aW9zKHsKICAgICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC90aW1ldGFibGUnLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBjbGFzczogY2xhc3NfbmFtZQogICAgICAgICAgfSwKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT09ICdzdWNjZXNzJykgewogICAgICAgICAgICBjb25zdCB0aW1ldGFibGUgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgICAgIGNvbW1pdCgndmlld1RpbWV0YWJsZScsIHRpbWV0YWJsZSk7CiAgICAgICAgICAgIGNvbW1pdCgnYXV0aF9zdWNjZXNzJyk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuc3RhdHVzID09PSAnZXJyb3InKSB7CiAgICAgICAgICAgIGNvbW1pdCgnYXV0aF9lcnJvcicpOwogICAgICAgICAgfQoKICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICBjb21taXQoJ2F1dGhfZXJyb3InLCBlcnIpOwogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICB9Cn0pOw=="},{"version":3,"sources":["/home/juuls/Documents/AdamsApp/adams-app/src/store/index.js"],"names":["createStore","axios","state","status","user","timetable","getters","authStatus","getTimetable","mutations","auth_request","auth_success","auth_error","viewTimetable","actions","login","commit","Promise","resolve","reject","url","data","method","then","response","localStorage","setItem","JSON","stringify","catch","err","class_name","class"],"mappings":"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","sourcesContent":["import { createStore } from 'vuex'\nimport axios from \"axios\"\n\n// Vuex ErklÃ¤rung -> https://vuex.vuejs.org/guide/#the-simplest-store\n\nexport default createStore({\n  state: {\n    status: '',\n    user: {},\n    timetable: []\n  },\n  getters: {\n    authStatus: state => state.status,\n    getTimetable: state => state.timetable\n  },\n  mutations: {\n    auth_request(state) {\n      state.status = 'loading'\n    },\n    auth_success(state, user) {\n      state.status = 'success'\n      if (user)\n        state.user = user\n    },\n    auth_error(state) {\n      state.status = 'error'\n    },\n    viewTimetable(state, timetable) {\n      state.timetable = timetable\n    }\n  },\n  actions: {\n    login({ commit }, user) {\n      return new Promise((resolve, reject) => {\n        commit('auth_request')\n        axios({ url: 'http://localhost:3000/signin', data: user, method: 'POST' })\n          .then(response => {\n            if (response.data.status === 'success') {\n              const user = response.data\n              localStorage.setItem('user', JSON.stringify(user.user))\n              commit('auth_success', user)\n            } else if (response.data.status === 'error') {\n              commit('auth_error')\n            }\n\n            resolve(response)\n          })\n          .catch(err => {\n            commit('auth_error')\n            reject(err)\n          })\n      })\n    },\n    viewTimetable({ commit }, class_name) {\n      return new Promise((resolve, reject) => {\n        commit('auth_request')\n        axios({ url: 'http://localhost:3000/timetable', data: { class: class_name }, method: 'POST' })\n          .then(response => {\n            if (response.data.status === 'success') {\n              const timetable = response.data.data\n              commit('viewTimetable', timetable)\n              commit('auth_success')\n            } else if (response.data.status === 'error') {\n              commit('auth_error')\n            }\n\n            resolve(response)\n          })\n          .catch(err => {\n            commit('auth_error', err)\n            reject(err)\n          })\n      })\n    },\n  },\n})\n"]}]}