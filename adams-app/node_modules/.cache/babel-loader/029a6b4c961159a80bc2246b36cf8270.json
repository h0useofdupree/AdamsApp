{"remainingRequest":"/home/juuls/Documents/AdamsApp/adams-app/node_modules/babel-loader/lib/index.js!/home/juuls/Documents/AdamsApp/adams-app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/juuls/Documents/AdamsApp/adams-app/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/juuls/Documents/AdamsApp/adams-app/src/views/Plan.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/juuls/Documents/AdamsApp/adams-app/src/views/Plan.vue","mtime":1639560187825},{"path":"/home/juuls/Documents/AdamsApp/adams-app/babel.config.js","mtime":1639554325614},{"path":"/home/juuls/Documents/AdamsApp/adams-app/node_modules/cache-loader/dist/cjs.js","mtime":1639554684452},{"path":"/home/juuls/Documents/AdamsApp/adams-app/node_modules/babel-loader/lib/index.js","mtime":1639554684844},{"path":"/home/juuls/Documents/AdamsApp/adams-app/node_modules/cache-loader/dist/cjs.js","mtime":1639554684452},{"path":"/home/juuls/Documents/AdamsApp/adams-app/node_modules/vue-loader-v16/dist/index.js","mtime":1639554677232}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgSW9uQ29udGVudCwgSW9uR3JpZCwgSW9uUm93LCBJb25Db2wgfSBmcm9tICJAaW9uaWMvdnVlIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAidnVlIjsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBJb25Db250ZW50LAogICAgSW9uR3JpZCwKICAgIElvblJvdywKICAgIElvbkNvbAogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aW1ldGFibGU6IFtdLAogICAgICB0aW1lcGVyaW9kczogWyIwNzo0NSA8YnI+LTxicj4gMDg6MzAiLCAiMDg6MzAgPGJyPi08YnI+IDA5OjE1IiwgIjA5OjMwIDxicj4tPGJyPiAxMDoxNSIsICIxMDoxNSA8YnI+LTxicj4gMTE6MDAiLCAiMTE6MTUgPGJyPi08YnI+IDEyOjAwIiwgIjEyOjAwIDxicj4tPGJyPiAxMjo0NSIsICIxMzoxNSA8YnI+LTxicj4gMTQ6MDAiLCAiMTQ6MDAgPGJyPi08YnI+IDE0OjQ1IiwgIjE1OjAwIDxicj4tPGJyPiAxNTo0NSIsICIxNTo0NSA8YnI+LTxicj4gMTY6MzAiXSwKICAgICAgc3ViamVjdHM6IHsKICAgICAgICBtb25kYXk6IFtdLAogICAgICAgIHR1ZXNkYXk6IFtdLAogICAgICAgIHdlZG5lc2RheTogW10sCiAgICAgICAgdGh1cnNkYXk6IFtdLAogICAgICAgIGZyaWRheTogW10KICAgICAgfQogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgbGV0IGNsYXNzX25hbWUgPSAiaXRhM2EiOwogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInZpZXdUaW1ldGFibGUiLCBjbGFzc19uYW1lKS50aGVuKCgpID0+IHsKICAgICAgdGhpcy50aW1ldGFibGUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldFRpbWV0YWJsZTsgLy8gw5xiZXIgZGVuIEdldHRlciBiZWkgVnVleCB3ZXJkZW4gZGllIERhdGVuIGdlaG9sdC4KCiAgICAgIHRoaXMuc3BsaXRTdWJqZWN0cygpOyAvLyBEaWUgTWV0aG9kZSB0ZWlsdCBhbGxlIEbDpGNoZXIgaW4gZGllIFdvY2hlbnRhZ2UgZWluLgogICAgfSk7CiAgfSwKCiAgbWV0aG9kczogewogICAgLy8gRGllIE1ldGhvZGUgc29ydGllcnQgYWxsZSBGw6RjaGVyIG5hY2ggRGF0dW0sIGRhIGRpZSBVbnRpcy1BUEkgYWxsZSBGw6RjaGVyIHVuc29ydGllcnQgYXVzZ2lidC4KICAgIHNvcnRUaW1ldGFibGUodGltZXRhYmxlKSB7CiAgICAgIHJldHVybiB0aW1ldGFibGUuc29ydCgoYSwgYikgPT4gdGhpcy5jb252ZXJ0RGF0ZShhLmRhdGUsIGEuc3RhcnRUaW1lKSAtIHRoaXMuY29udmVydERhdGUoYi5kYXRlLCBiLnN0YXJ0VGltZSkpOwogICAgfSwKCiAgICBzcGxpdFN1YmplY3RzKCkgewogICAgICAvLyBJbiBkZXIgTWV0aG9kZSB3aXJkIGR1cmNoIGRhcyBEYXR1bSBkZXMgamV3ZWlsaWdlbiBGYWNoIGRlciBXb2NoZW50YWcgZXJtaXR0ZWx0LgogICAgICBjb25zb2xlLmxvZyh0aGlzLnRpbWV0YWJsZSk7CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGltZXRhYmxlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgc3dpdGNoICh0aGlzLmNvbnZlcnREYXRlKHRoaXMudGltZXRhYmxlW2ldLmRhdGUpLmdldERheSgpKSB7CiAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIHRoaXMuc3ViamVjdHMubW9uZGF5LnB1c2godGhpcy50aW1ldGFibGVbaV0pOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHRoaXMuc3ViamVjdHMudHVlc2RheS5wdXNoKHRoaXMudGltZXRhYmxlW2ldKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICB0aGlzLnN1YmplY3RzLndlZG5lc2RheS5wdXNoKHRoaXMudGltZXRhYmxlW2ldKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICB0aGlzLnN1YmplY3RzLnRodXJzZGF5LnB1c2godGhpcy50aW1ldGFibGVbaV0pOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIHRoaXMuc3ViamVjdHMuZnJpZGF5LnB1c2godGhpcy50aW1ldGFibGVbaV0pOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBjb25zb2xlLmxvZygiRmVobGVyIik7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBjb252ZXJ0RGF0ZShkYXRlLCB0aW1lKSB7CiAgICAgIC8vIERhdHVtIHVuZCBaZWl0IHdlcmRlbiBoaWVyIGluIEphdmFTY3JpcHQgRGF0ZSBPYmplY3RzIGtvbnZlcnRpZXJ0LAogICAgICAvLyBkYSBkaWUgVW50aXNBUEkgdW5iZWthbm50ZSBGb3JtYXRlIGFscyBEYXR1bSBiZW51dHp0LgogICAgICAvLyBCc3AuIDogJzIwMjExMjAxJwogICAgICBsZXQgeWVhciA9IGRhdGUudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgNCk7CiAgICAgIGxldCBtb250aCA9IGRhdGUudG9TdHJpbmcoKS5zdWJzdHJpbmcoNCwgNik7CiAgICAgIGxldCBkYXkgPSBkYXRlLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDYsIDgpOwoKICAgICAgaWYgKHRpbWUpIHsKICAgICAgICBsZXQgaG91cnMgPSB0aW1lLnRvU3RyaW5nKCkubGVuZ3RoID09IDQgPyB0aW1lLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDIpIDogdGltZS50b1N0cmluZygpLnN1YnN0cmluZygwLCAxKTsKICAgICAgICBsZXQgbWludXRlcyA9IHRpbWUudG9TdHJpbmcoKS5sZW5ndGggPT0gNCA/IHRpbWUudG9TdHJpbmcoKS5zdWJzdHJpbmcoMiwgNCkgOiB0aW1lLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDEsIDMpOwogICAgICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSwgaG91cnMsIG1pbnV0ZXMpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheSk7CiAgICAgIH0KICAgIH0KCiAgfQp9KTs="},{"version":3,"sources":["/home/juuls/Documents/AdamsApp/adams-app/src/views/Plan.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <ion-content>\n    <ion-grid v-if=\"Object.values(subjects).some((x) => x.length > 1)\">\n      <!-- Check, ob 'subjects' Objekt einträge hat, ansonsten wird das \n      Grid nicht gerendert (führt sonst zu Fehlern) -->\n      <ion-row>\n        <!-- Reihe für die Wochentage -->\n        <ion-col></ion-col>\n        <ion-col>Mo</ion-col>\n        <ion-col>Di</ion-col>\n        <ion-col>Mi</ion-col>\n        <ion-col>Do</ion-col>\n        <ion-col>Fr</ion-col>\n      </ion-row>\n\n      <ion-row v-for=\"i in 8\" :key=\"i\">\n        <!-- 8 Reihen, da wir nicht mehr als 8 Stunden pro Tag haben. -->\n        <ion-col class=\"timeperiods\" v-html=\"timeperiods[i - 1]\"></ion-col>\n        <!-- In timeperiods sind die Uhrzeiten eingetragen, v-for iteriert durch -->\n        <ion-col v-for=\"j in 5\" :key=\"j\">\n          <!-- 5 Spalten, für die 5 Wochentage -->\n          {{\n            subjects[Object.getOwnPropertyNames(this.subjects)[j - 1]][i - 1] !=\n            null\n              ? subjects[Object.getOwnPropertyNames(this.subjects)[j - 1]][\n                  i - 1\n                ].su[0].name\n              : \"\"\n          }}\n\n          <!-- Object.getOwnPropertyNames gibt alle Keys eines Objektes zurück.\n          Dadurch kann z.B mit index 0 => Montag, über das Subject Objekt alle Fächer,\n          die am Montag sind ausgelesen werden\n          \n            Beispiel: subjects['monday'][0] gibt die Daten der ersten Stunde am Montag zurück.-->\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n  </ion-content>\n</template>\n\n<script>\nimport { IonContent, IonGrid, IonRow, IonCol } from \"@ionic/vue\";\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  components: {\n    IonContent,\n    IonGrid,\n    IonRow,\n    IonCol,\n  },\n  data() {\n    return {\n      timetable: [],\n      timeperiods: [\n        \"07:45 <br>-<br> 08:30\",\n        \"08:30 <br>-<br> 09:15\",\n        \"09:30 <br>-<br> 10:15\",\n        \"10:15 <br>-<br> 11:00\",\n        \"11:15 <br>-<br> 12:00\",\n        \"12:00 <br>-<br> 12:45\",\n        \"13:15 <br>-<br> 14:00\",\n        \"14:00 <br>-<br> 14:45\",\n        \"15:00 <br>-<br> 15:45\",\n        \"15:45 <br>-<br> 16:30\",\n      ],\n      subjects: {\n        monday: [],\n        tuesday: [],\n        wednesday: [],\n        thursday: [],\n        friday: [],\n      },\n    };\n  },\n  created() {\n    let class_name = \"ita3a\";\n    this.$store.dispatch(\"viewTimetable\", class_name).then(() => {\n      this.timetable = this.$store.getters.getTimetable; // Über den Getter bei Vuex werden die Daten geholt.\n      this.splitSubjects(); // Die Methode teilt alle Fächer in die Wochentage ein.\n    });\n  },\n  methods: {\n    // Die Methode sortiert alle Fächer nach Datum, da die Untis-API alle Fächer unsortiert ausgibt.\n    sortTimetable(timetable) {\n      return timetable.sort(\n        (a, b) =>\n          this.convertDate(a.date, a.startTime) -\n          this.convertDate(b.date, b.startTime)\n      );\n    },\n    splitSubjects() {\n      // In der Methode wird durch das Datum des jeweiligen Fach der Wochentag ermittelt.\n      console.log(this.timetable);\n      for (let i = 0; i < this.timetable.length; i++) {\n        switch (this.convertDate(this.timetable[i].date).getDay()) {\n          case 1:\n            this.subjects.monday.push(this.timetable[i]);\n            break;\n          case 2:\n            this.subjects.tuesday.push(this.timetable[i]);\n            break;\n          case 3:\n            this.subjects.wednesday.push(this.timetable[i]);\n            break;\n          case 4:\n            this.subjects.thursday.push(this.timetable[i]);\n            break;\n          case 5:\n            this.subjects.friday.push(this.timetable[i]);\n            break;\n          default:\n            console.log(\"Fehler\");\n            break;\n        }\n      }\n    },\n    convertDate(date, time) {\n      // Datum und Zeit werden hier in JavaScript Date Objects konvertiert,\n      // da die UntisAPI unbekannte Formate als Datum benutzt.\n      // Bsp. : '20211201'\n\n      let year = date.toString().substring(0, 4);\n      let month = date.toString().substring(4, 6);\n      let day = date.toString().substring(6, 8);\n\n      if (time) {\n        let hours =\n          time.toString().length == 4\n            ? time.toString().substring(0, 2)\n            : time.toString().substring(0, 1);\n        let minutes =\n          time.toString().length == 4\n            ? time.toString().substring(2, 4)\n            : time.toString().substring(1, 3);\n\n        return new Date(year, month - 1, day, hours, minutes);\n      } else {\n        return new Date(year, month - 1, day);\n      }\n    },\n  },\n});\n</script>\n\n<style scoped>\n.timeperiods {\n  font-size: 12px;\n  text-align: center;\n}\n</style>"],"sourceRoot":""}]}