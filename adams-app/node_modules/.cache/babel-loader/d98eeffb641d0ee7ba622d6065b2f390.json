{"remainingRequest":"/home/juuls/Documents/AdamsApp/adams-app/node_modules/babel-loader/lib/index.js!/home/juuls/Documents/AdamsApp/adams-app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/juuls/Documents/AdamsApp/adams-app/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/juuls/Documents/AdamsApp/adams-app/src/components/Timetable.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/juuls/Documents/AdamsApp/adams-app/src/components/Timetable.vue","mtime":1640019775937},{"path":"/home/juuls/Documents/AdamsApp/adams-app/babel.config.js","mtime":1639554325614},{"path":"/home/juuls/Documents/AdamsApp/adams-app/node_modules/cache-loader/dist/cjs.js","mtime":1639554684452},{"path":"/home/juuls/Documents/AdamsApp/adams-app/node_modules/babel-loader/lib/index.js","mtime":1639554684844},{"path":"/home/juuls/Documents/AdamsApp/adams-app/node_modules/cache-loader/dist/cjs.js","mtime":1639554684452},{"path":"/home/juuls/Documents/AdamsApp/adams-app/node_modules/vue-loader-v16/dist/index.js","mtime":1639561249800}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgSW9uR3JpZCwgSW9uUm93LCBJb25Db2wgfSBmcm9tICJAaW9uaWMvdnVlIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAidnVlIjsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBJb25HcmlkLAogICAgSW9uUm93LAogICAgSW9uQ29sCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpbWV0YWJsZTogW10sCiAgICAgIHRpbWVwZXJpb2RzOiBbewogICAgICAgIGRpc3BsYXk6ICIwNzo0NSA8YnI+LTxicj4gMDg6MzAiLAogICAgICAgIHN0YXJ0VGltZTogNzQ1LAogICAgICAgIGVuZFRpbWU6IDgzMAogICAgICB9LCB7CiAgICAgICAgZGlzcGxheTogIjA4OjMwIDxicj4tPGJyPiAwOToxNSIsCiAgICAgICAgc3RhcnRUaW1lOiA4MzAsCiAgICAgICAgZW5kVGltZTogOTE1CiAgICAgIH0sIHsKICAgICAgICBkaXNwbGF5OiAiMDk6MzAgPGJyPi08YnI+IDEwOjE1IiwKICAgICAgICBzdGFydFRpbWU6IDkzMCwKICAgICAgICBlbmRUaW1lOiAxMDE1CiAgICAgIH0sIHsKICAgICAgICBkaXNwbGF5OiAiMTA6MTUgPGJyPi08YnI+IDExOjAwIiwKICAgICAgICBzdGFydFRpbWU6IDEwMTUsCiAgICAgICAgZW5kVGltZTogMTEwMAogICAgICB9LCB7CiAgICAgICAgZGlzcGxheTogIjExOjE1IDxicj4tPGJyPiAxMjowMCIsCiAgICAgICAgc3RhcnRUaW1lOiAxMTE1LAogICAgICAgIGVuZFRpbWU6IDEyMDAKICAgICAgfSwgewogICAgICAgIGRpc3BsYXk6ICIxMjowMCA8YnI+LTxicj4gMTI6NDUiLAogICAgICAgIHN0YXJ0VGltZTogMTIwMCwKICAgICAgICBlbmRUaW1lOiAxMjQ1CiAgICAgIH0sIHsKICAgICAgICBkaXNwbGF5OiAiMTM6MTUgPGJyPi08YnI+IDE0OjAwIiwKICAgICAgICBzdGFydFRpbWU6IDEzMTUsCiAgICAgICAgZW5kVGltZTogMTQwMAogICAgICB9LCB7CiAgICAgICAgZGlzcGxheTogIjE0OjAwIDxicj4tPGJyPiAxNDo0NSIsCiAgICAgICAgc3RhcnRUaW1lOiAxNDAwLAogICAgICAgIGVuZFRpbWU6IDE0NDUKICAgICAgfV0sCiAgICAgIGRhdGVzOiBbMjAyMTEyMjAsIDIwMjExMjIxLCAyMDIxMTIyMiwgMjAyMTEyMjMsIDIwMjExMjI0XQogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgbGV0IGNsYXNzX25hbWUgPSAiaXRhM2EiOyAvLyBLbGFzc2UgaXN0IG5vY2ggc3RhdGlzY2ggZWluZ2V0cmFnZW4KCiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidmlld1RpbWV0YWJsZSIsIGNsYXNzX25hbWUpLnRoZW4oKCkgPT4gewogICAgICB0aGlzLnRpbWV0YWJsZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0VGltZXRhYmxlOyAvLyDDnGJlciBkZW4gR2V0dGVyIGJlaSBWdWV4IHdlcmRlbiBkaWUgRGF0ZW4gZ2Vob2x0LgogICAgfSk7CiAgfSwKCiAgbWV0aG9kczogewogICAgY29udmVydERhdGUoZGF0ZSwgdGltZSkgewogICAgICAvLyBEYXR1bSB1bmQgWmVpdCB3ZXJkZW4gaGllciBpbiBKYXZhU2NyaXB0IERhdGUgT2JqZWN0cyBrb252ZXJ0aWVydCwKICAgICAgLy8gZGEgZGllIFVudGlzQVBJIHVuYmVrYW5udGUgRm9ybWF0ZSBhbHMgRGF0dW0gYmVudXR6dC4KICAgICAgLy8gQnNwLiA6ICcyMDIxMTIwMScKICAgICAgbGV0IHllYXIgPSBkYXRlLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDQpOwogICAgICBsZXQgbW9udGggPSBkYXRlLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDQsIDYpOwogICAgICBsZXQgZGF5ID0gZGF0ZS50b1N0cmluZygpLnN1YnN0cmluZyg2LCA4KTsKCiAgICAgIGlmICh0aW1lKSB7CiAgICAgICAgbGV0IGhvdXJzID0gdGltZS50b1N0cmluZygpLmxlbmd0aCA9PSA0ID8gdGltZS50b1N0cmluZygpLnN1YnN0cmluZygwLCAyKSA6IHRpbWUudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMSk7CiAgICAgICAgbGV0IG1pbnV0ZXMgPSB0aW1lLnRvU3RyaW5nKCkubGVuZ3RoID09IDQgPyB0aW1lLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDIsIDQpIDogdGltZS50b1N0cmluZygpLnN1YnN0cmluZygxLCAzKTsKICAgICAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXksIGhvdXJzLCBtaW51dGVzKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXkpOwogICAgICB9CiAgICB9LAoKICAgIGdldERheXNBcnJheShzdGFydCwgZW5kKSB7CiAgICAgIGZvciAodmFyIGFyciA9IFtdLCBkdCA9IG5ldyBEYXRlKHN0YXJ0KTsgZHQgPD0gZW5kOyBkdC5zZXREYXRlKGR0LmdldERhdGUoKSArIDEpKSB7CiAgICAgICAgYXJyLnB1c2gobmV3IERhdGUoZHQpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGFycjsKICAgIH0sCgogICAgZ2V0TW9uZGF5KCkgewogICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciBkYXkgPSBkLmdldERheSgpOwogICAgICB2YXIgZGlmZiA9IGQuZ2V0RGF0ZSgpIC0gZGF5ICsgKGRheSA9PSAwID8gLTYgOiAxKTsKICAgICAgcmV0dXJuIHRoaXMuY29udmVydERhdGUobmV3IERhdGUoZC5zZXREYXRlKGRpZmYpKSk7CiAgICB9LAoKICAgIHRlc3REYXRlKCkgewogICAgICB2YXIgbW9uZGF5ID0gRGF0ZS50b2RheSgpLnByZXZpb3VzKCkubW9uZGF5KCk7CiAgICAgIGNvbnNvbGUubG9nKG1vbmRheSk7CiAgICB9CgogIH0KfSk7CmNvbnNvbGUubG9nKHRoaXMudGVzdERhdGUoKSk7"},{"version":3,"sources":["/home/juuls/Documents/AdamsApp/adams-app/src/components/Timetable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <ion-grid class=\"container\">\n    <!-- Check, ob 'subjects' Objekt einträge hat, ansonsten wird das \n      Grid nicht gerendert (führt sonst zu Fehlern) -->\n    <ion-row class=\"days\">\n      <!-- Reihe für die Wochentage -->\n      <ion-col></ion-col>\n      <ion-col>Mo</ion-col>\n      <ion-col>Di</ion-col>\n      <ion-col>Mi</ion-col>\n      <ion-col>Do</ion-col>\n      <ion-col>Fr</ion-col>\n    </ion-row>\n\n    <ion-row v-for=\"tp in timeperiods\" :key=\"tp.display\">\n      <!-- 10 Reihen, da wir nicht mehr als 10 Stunden pro Tag haben. -->\n      <ion-col class=\"timeperiods\" v-html=\"tp.display\"></ion-col>\n      <!-- In 'timeperiods' sind die Uhrzeiten eingetragen, v-for iteriert durch -->\n      <ion-col\n        class=\"subject_columns\"\n        v-for=\"date_val in dates\"\n        :key=\"date_val\"\n      >\n        <div v-for=\"table_data in timetable\" :key=\"table_data.id\">\n          <div\n            v-if=\"\n              table_data.startTime === tp.startTime &&\n              table_data.date === date_val\n            \"\n            class=\"subjc\"\n          >\n            <span\n              class=\"subject-item\"\n              v-for=\"subject in table_data.su\"\n              :key=\"subject.id\"\n              >{{\n                table_data.startTime === tp.startTime &&\n                table_data.date === date_val\n                  ? subject.name\n                  : null\n              }}</span\n            >\n          </div>\n        </div>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n</template>\n\n<script>\nimport { IonGrid, IonRow, IonCol } from \"@ionic/vue\";\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  components: {\n    IonGrid,\n    IonRow,\n    IonCol,\n  },\n  data() {\n    return {\n      timetable: [],\n      timeperiods: [\n        {\n          display: \"07:45 <br>-<br> 08:30\",\n          startTime: 745,\n          endTime: 830,\n        },\n        {\n          display: \"08:30 <br>-<br> 09:15\",\n          startTime: 830,\n          endTime: 915,\n        },\n        {\n          display: \"09:30 <br>-<br> 10:15\",\n          startTime: 930,\n          endTime: 1015,\n        },\n        {\n          display: \"10:15 <br>-<br> 11:00\",\n          startTime: 1015,\n          endTime: 1100,\n        },\n        {\n          display: \"11:15 <br>-<br> 12:00\",\n          startTime: 1115,\n          endTime: 1200,\n        },\n        {\n          display: \"12:00 <br>-<br> 12:45\",\n          startTime: 1200,\n          endTime: 1245,\n        },\n        {\n          display: \"13:15 <br>-<br> 14:00\",\n          startTime: 1315,\n          endTime: 1400,\n        },\n        {\n          display: \"14:00 <br>-<br> 14:45\",\n          startTime: 1400,\n          endTime: 1445,\n        },\n      ],\n\n      dates: [20211220, 20211221, 20211222, 20211223, 20211224],\n    };\n  },\n  created() {\n    let class_name = \"ita3a\"; // Klasse ist noch statisch eingetragen\n    this.$store.dispatch(\"viewTimetable\", class_name).then(() => {\n      this.timetable = this.$store.getters.getTimetable; // Über den Getter bei Vuex werden die Daten geholt.\n    });\n  },\n  methods: {\n    convertDate(date, time) {\n      // Datum und Zeit werden hier in JavaScript Date Objects konvertiert,\n      // da die UntisAPI unbekannte Formate als Datum benutzt.\n      // Bsp. : '20211201'\n\n      let year = date.toString().substring(0, 4);\n      let month = date.toString().substring(4, 6);\n      let day = date.toString().substring(6, 8);\n\n      if (time) {\n        let hours =\n          time.toString().length == 4\n            ? time.toString().substring(0, 2)\n            : time.toString().substring(0, 1);\n        let minutes =\n          time.toString().length == 4\n            ? time.toString().substring(2, 4)\n            : time.toString().substring(1, 3);\n\n        return new Date(year, month - 1, day, hours, minutes);\n      } else {\n        return new Date(year, month - 1, day);\n      }\n    },\n    getDaysArray(start, end) {\n    for(var arr=[],dt=new Date(start); dt<=end; dt.setDate(dt.getDate()+1)){\n        arr.push(new Date(dt));\n    }\n    return arr;\n    },\n    getMonday() {\n      var d = new Date();\n      var day = d.getDay()\n      var diff = d.getDate() - day + (day == 0 ? -6:1);\n      return this.convertDate(new Date(d.setDate(diff)));\n    },\n    testDate() {\n      var monday = Date.today().previous().monday()\n      console.log(monday);\n    }\n  },\n});\nconsole.log(this.testDate())\n</script>\n\n<style scoped>\n.container{\n  font-size: 9pt;\n}\n.timeperiods {\n  font-size: 11px;\n  text-align: center;\n\n  min-width: 45px;\n  max-width: 55px;\n\n  background-color: var(--ion-color-primary);\n\n  padding: 5px;\n  margin-top: 5px;\n\n  border-top-left-radius: 15px;\n  border-bottom-left-radius: 15px;\n}\n.timeperiods:nth-child(even){\n  background-color: blue;\n}\n.subject-item {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  font-size: 9pt;\n\n  padding-top: 10px;\n  padding-right: 5px;\n  padding-bottom: 10px;\n  padding-left: 5px;\n\n  border-radius: 5px;\n  background-color: none;\n}\n/* Make every odd indexed column be a different color for contrast */\n.subject_columns:nth-child(odd) {\n  background-color: var(--color-main-3);\n}\n/* Make every even indexed column be a different color for contrast */\n.subject_columns:nth-child(even) {\n  background-color: var(--color-main-2);\n}\n/* Make first columns borders align to 'timeperiods' */\n.subject_columns:nth-child(2){\n  background-color: red;\n  border-top-left-radius: none;\n  border-bottom-left-radius: none;\n}\n.subject-columns > .subject-item:nth-child(even){\n  background-color: black;\n}\n.subject-item:hover{\n  transition: 10ms;\n  background-color: blue;\n}\n/*  */\n.subject_columns {\n  display: flex;\n  flex-direction: row;\n\n  margin-top: 5px;\n  margin-bottom: 5px;\n\n  min-width: 3em;\n  max-width: 4;\n\n  border-radius: 10px;\n}\n.dayEven{\n  background-color: var(--ion-color-light);\n}\n.dayOdd{\n  background-color: var(--ion-color-medium);\n}\n.days{\n  border-top-left-radius: 20px;\n  border-top-right-radius: 20px;\n  background-color: var(--color-main-3);\n}\n.days ion-col{\n  text-align: center;\n}\n.days ion-col:nth-child(even){\n  background-color: blue;\n}\n</style>"],"sourceRoot":""}]}